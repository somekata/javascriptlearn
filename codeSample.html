<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>タブとコピー機能付きコード表示</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      /* スタイル */
      body {
        font-family: Arial, sans-serif;
      }
      .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
      }
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 10px 20px;
        transition: 0.3s;
        font-size: 16px;
      }
      .tab button:hover {
        background-color: #ddd;
      }
      .tab button.active {
        background-color: #ccc;
      }
      .tabcontent {
        display: none;
        padding: 10px;
        border: 1px solid #ccc;
        border-top: none;
      }
      pre {
        background-color: #f4f4f4;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        overflow-x: auto;
      }
      code {
        font-family: monospace;
      }
      button {
        background-color: #2980b9;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #3498db;
      }
      button.copy-button {
        margin-top: 10px;
        padding: 5px 10px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button.copy-button:disabled {
        background-color: #ccc;
      }
      #myCanvas {
        border: 1px solid black;
      }
      /* ナビゲーションバー */
      .navbar {
        background-color: #2c3e50;
        padding: 10px 0;
        display: flex;
        justify-content: space-around;
        align-items: center;
      }

      .navbar a {
        color: white;
        padding: 10px 20px;
        text-decoration: none;
        text-align: center;
      }

      .navbar a:hover {
        background-color: #34495e;
      }
    </style>
  </head>
  <body>
    <header id="headerDefault" class="navbar"></header>
    <h1 id="pagetop">コピー機能付きコード例</h1>

    <div class="tab">
      <button class="tablinks" onclick="openTab(event, 'HTML')">HTML</button>
      <button class="tablinks" onclick="openTab(event, 'CSS')">CSS</button>
      <button class="tablinks" onclick="openTab(event, 'JS')">
        JavaScript
      </button>
      <a href="result.html"><button class="tablinks">結果</button></a>
    </div>

    <!-- HTMLタブの内容 -->
    <div id="HTML" class="tabcontent">
      <h3>HTML</h3>
      <pre><code id="htmlCode">&lt;!DOCTYPE html&gt;
        &lt;html lang=&quot;ja&quot;&gt;
        &lt;head&gt;
            &lt;meta charset=&quot;UTF-8&quot;&gt;
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
            &lt;title&gt;HTML,CSS,JavaScript サンプル&lt;/title&gt;
            &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;
        &lt;/head&gt;
        &lt;body&gt;
        
            &lt;header class=&quot;navbar&quot;&gt;
            &lt;a href=&quot;index.html&quot;&gt;ホームに戻る&lt;/a&gt;
            &lt;a href=&quot;list.html&quot;&gt;目次へ&lt;/a&gt;
            &lt;a href=&quot;tagTransform.html&quot;&gt;エスケープ変換&lt;/a&gt;
            &lt;/header&gt;
            &lt;hr&gt;
            &lt;div&gt;
            &lt;nav class=&quot;navbar&quot;&gt;
                &lt;a href=&quot;#section1&quot;&gt;セクション1&lt;/a&gt;
                &lt;a href=&quot;#section2&quot;&gt;セクション2&lt;/a&gt;
                &lt;a href=&quot;#section3&quot;&gt;セクション3&lt;/a&gt;
            &lt;/nav&gt;
            &lt;/div&gt;  
        
            &lt;section id=&quot;section1&quot;&gt;
                &lt;h1&gt;見出し1&lt;/h1&gt;
                &lt;div&gt;
                    &lt;p&gt;このページの概要を説明する段落です。&lt;/p&gt;
                &lt;/div&gt;
            &lt;/section&gt;
        
            &lt;section id=&quot;section2&quot;&gt;
                &lt;h2&gt;見出し2&lt;/h2&gt;
                &lt;div&gt;
                    &lt;p&gt;さらに詳細な情報を表示するための段落です。&lt;/p&gt;
                &lt;/div&gt;
            &lt;/section&gt;
        
            &lt;section id=&quot;section3&quot;&gt;
                &lt;h3&gt;見出し3&lt;/h3&gt;
                &lt;div&gt;
                    &lt;p&gt;関連する情報を表示します。&lt;/p&gt;
                    &lt;form&gt;
                        &lt;label for=&quot;inputText&quot;&gt;テキストを入力してください:&lt;/label&gt;
                        &lt;input type=&quot;text&quot; id=&quot;inputText&quot; name=&quot;inputText&quot;&gt;
                    &lt;/form&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;form&gt;
                        &lt;button type=&quot;button&quot; id=&quot;changeColorButton&quot;&gt;図形の色を変える&lt;/button&gt;
                    &lt;/form&gt;
                    &lt;canvas id=&quot;myCanvas&quot; width=&quot;300&quot; height=&quot;150&quot; style=&quot;border:1px solid #000000;&quot;&gt;&lt;/canvas&gt;
                &lt;/div&gt;
            &lt;/section&gt;
            &lt;p&gt;
                &lt;button onclick=&quot;history.back()&quot;&gt;戻る&lt;/button&gt;
            &lt;/p&gt;        
            &lt;footer&gt;
                &lt;hr&gt;
                &lt;p&gt;フッター情報です。&lt;/p&gt;
            &lt;/footer&gt;
        
            &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;
        &lt;/body&gt;
        &lt;/html&gt;
        
</code></pre>
      <button
        class="copy-button"
        id="copyHtmlButton"
        onclick="copyToClipboard('htmlCode', 'copyHtmlButton')"
      >
        クリップボードにコピー
      </button>
    </div>

    <!-- CSSタブの内容 -->
    <div id="CSS" class="tabcontent">
      <h3>CSS</h3>
      <pre><code id="cssCode">body {
        margin:20px;
        padding:10px;
}

h1, h2, h3, h4, h5, h6 {
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        color: #333;
}

h1 {
    font-size: 2.5em;
}

h2 {
    font-size: 2em;
}

h3 {
    font-size: 1.75em;
}

h4 {
    font-size: 1.5em;
}

h5 {
    font-size: 1.25em;
}

h6 {
    font-size: 1em;
}

nav {
    background-color: #f4f4f4;
    padding: 10px;
}

nav a {
    margin-right: 10px;
    color: #333;
    text-decoration: none;
}

nav a:hover {
    text-decoration: underline;
}

canvas {
    margin-top: 20px;
}
/* ナビゲーションバー */
.navbar {
    background-color: #2c3e50;
    padding: 10px 0;
    display: flex;
    justify-content: space-around;
    align-items: center;
}

.navbar a {
    color: white;
    padding: 10px 20px;
    text-decoration: none;
    text-align: center;
}

.navbar a:hover {
    background-color: #34495e;
}    
</code></pre>
      <button
        class="copy-button"
        id="copyCssButton"
        onclick="copyToClipboard('cssCode', 'copyCssButton')"
      >
        クリップボードにコピー
      </button>
    </div>

    <!-- JavaScriptタブの内容 -->
    <div id="JS" class="tabcontent">
      <h3>JavaScript</h3>
      <pre><code id="jsCode">window.onload = function() {
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");
    
    // 初期の図形の描画
    ctx.fillStyle = "#FF0000"; // 赤色
    ctx.fillRect(50, 50, 200, 100);

    // ボタンがクリックされたときに図形の色を変える
    document.getElementById("changeColorButton").addEventListener("click", function() {
        // ランダムな色を生成
        const randomColor = '#' + Math.floor(Math.random()*16777215).toString(16);
        
        // キャンバスをクリアして新しい色で再描画
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = randomColor;
        ctx.fillRect(50, 50, 200, 100);
    });
}    
</code></pre>
      <button
        class="copy-button"
        id="copyJsButton"
        onclick="copyToClipboard('jsCode', 'copyJsButton')"
      >
        クリップボードにコピー
      </button>
    </div>
    <div>
      <p>
        　HTML、CS、JavaScriptはコピーして、それぞれindex.html、style.css、script.jsとして同じディレクトリに保存してください。index.htmlを開いたときに、<a
          href="result.html"
          >結果</a
        >のように表示されるはずです。
      </p>
    </div>
    <p>
      <button onclick="history.back()">戻る</button>
    </p>
    <script>
      // タブを開くための関数
      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;

        // 全てのタブコンテンツを隠す
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }

        // 全てのタブリンクから "active" クラスを削除
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        // 選択したタブを表示し、ボタンを "active" にする
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
      }

      // 初期状態でHTMLタブを表示
      document.getElementsByClassName("tablinks")[0].click();

      // クリップボードにコードをコピーする関数
      function copyToClipboard(codeId, buttonId) {
        var codeText = document.getElementById(codeId).innerText;
        navigator.clipboard
          .writeText(codeText)
          .then(function () {
            var copyButton = document.getElementById(buttonId);
            copyButton.textContent = "コピーしました";
            copyButton.disabled = true;

            // 2秒後にボタンのテキストを元に戻す
            setTimeout(function () {
              copyButton.textContent = "クリップボードにコピー";
              copyButton.disabled = false;
            }, 2000);
          })
          .catch(function (err) {
            console.error("コピーに失敗しました: ", err);
          });
      }
    </script>
    <script src="script.js"></script>
  </body>
</html>
